"use strict";(self.webpackChunkgosc=self.webpackChunkgosc||[]).push([[4895],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=d(a),h=r,m=p["".concat(s,".").concat(h)]||p[h]||c[h]||i;return a?n.createElement(m,l(l({ref:t},u),{},{components:a})):n.createElement(m,l({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:r,l[1]=o;for(var d=2;d<i;d++)l[d]=a[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},85624:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var n=a(87462),r=(a(67294),a(3905));const i={title:"Week 6",author:"Krishna Mahato",author_url:"https://github.com/krishna9304",last_updated:"24th July, 2022",author_image_url:"https://avatars.githubusercontent.com/u/71918441?v=4",tags:["gsoc22","react","Week 6"]},l=void 0,o={unversionedId:"2022/ui/updates/krishna/2022-07-24",id:"2022/ui/updates/krishna/2022-07-24",title:"Week 6",description:"\x3c!--",source:"@site/docs/2022/ui/updates/krishna/2022-07-24.md",sourceDirName:"2022/ui/updates/krishna",slug:"/2022/ui/updates/krishna/2022-07-24",permalink:"/gsoc/docs/2022/ui/updates/krishna/2022-07-24",draft:!1,editUrl:"https://github.com/fossology/gsoc/edit/main/docs/2022/ui/updates/krishna/2022-07-24.md",tags:[{label:"gsoc22",permalink:"/gsoc/docs/tags/gsoc-22"},{label:"react",permalink:"/gsoc/docs/tags/react"},{label:"Week 6",permalink:"/gsoc/docs/tags/week-6"}],version:"current",frontMatter:{title:"Week 6",author:"Krishna Mahato",author_url:"https://github.com/krishna9304",last_updated:"24th July, 2022",author_image_url:"https://avatars.githubusercontent.com/u/71918441?v=4",tags:["gsoc22","react","Week 6"]},sidebar:"2022",previous:{title:"Week 5",permalink:"/gsoc/docs/2022/ui/updates/krishna/2022-07-17"},next:{title:"Week 7",permalink:"/gsoc/docs/2022/ui/updates/krishna/2022-07-31"}},s={},d=[{value:"Goals for the week",id:"goals-for-the-week",level:2},{value:"Requested changes and modifications",id:"requested-changes-and-modifications",level:2},{value:"For the Edit User Api",id:"for-the-edit-user-api",level:3},{value:"New API for adding a user (Started)",id:"new-api-for-adding-a-user-started",level:2},{value:"Testing <code>POST /users</code>",id:"testing-post-users",level:2},{value:"Conclusions and further plans",id:"conclusions-and-further-plans",level:2}],u={toc:d},p="wrapper";function c(e){let{components:t,...i}=e;return(0,r.kt)(p,(0,n.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"goals-for-the-week"},"Goals for the week"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Sl. No."),(0,r.kt)("th",{parentName:"tr",align:null},"Initial Goals"),(0,r.kt)("th",{parentName:"tr",align:null},"Completed"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1."),(0,r.kt)("td",{parentName:"tr",align:null},"Solve requested changes on existing PRs"),(0,r.kt)("td",{parentName:"tr",align:null},"Done")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"2."),(0,r.kt)("td",{parentName:"tr",align:null},"Resume the implementation of API to add a user"),(0,r.kt)("td",{parentName:"tr",align:null},"Pending (Docs)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"3."),(0,r.kt)("td",{parentName:"tr",align:null},"API for changing the upload permissions"),(0,r.kt)("td",{parentName:"tr",align:null},"Not Started")))),(0,r.kt)("h2",{id:"requested-changes-and-modifications"},"Requested changes and modifications"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"for-the-edit-user-api"},"For the Edit User Api"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Changing the request format to be more simplified ---"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"From this\n",(0,r.kt)("img",{alt:"req-body-edit-user",src:a(12199).Z,width:"866",height:"978"})),(0,r.kt)("li",{parentName:"ul"},"To this\n",(0,r.kt)("img",{alt:"req-body-edit-user-updated",src:a(68802).Z,width:"802",height:"900"})))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Modify the backend function to allow the user to send the only field which he/she wants to modify(edit). For instance, If the user wants to update the ",(0,r.kt)("inlineCode",{parentName:"p"},"description")," he will just give the ",(0,r.kt)("inlineCode",{parentName:"p"},"userId")," in params in path, and description field in the request body. All other fields which are not given in the request body will be automatically set in the backend from the DB. Refer to the discussion ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/fossology/fossology/pull/2262#issuecomment-1193073900"},"here"),"."))),(0,r.kt)("h2",{id:"new-api-for-adding-a-user-started"},"New API for adding a user (Started)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Gaurav sir")," sent me the ",(0,r.kt)("a",{parentName:"li",href:"https://files.slack.com/files-pri/T6P6QSFSN-F03PD0S03QF/defaultplugin.patch"},"patch")," that converted the ",(0,r.kt)("inlineCode",{parentName:"li"},"user_add")," plugin to extend from ",(0,r.kt)("inlineCode",{parentName:"li"},"DefaultPlugin")," rather than ",(0,r.kt)("inlineCode",{parentName:"li"},"FO_Plugin"),"."),(0,r.kt)("li",{parentName:"ul"},"This enabled me to use this plugin's existing methods to add a user which prevented code duplication and repetition of logic."),(0,r.kt)("li",{parentName:"ul"},"This Implementation included the following tasks ---",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Create a new ",(0,r.kt)("inlineCode",{parentName:"li"},"POST /users")," route in the ",(0,r.kt)("inlineCode",{parentName:"li"},"index.php")," file inside ",(0,r.kt)("inlineCode",{parentName:"li"},"www/ui/api")," directory."),(0,r.kt)("li",{parentName:"ul"},"Add a new method ",(0,r.kt)("inlineCode",{parentName:"li"},"AddUser")," in the ",(0,r.kt)("inlineCode",{parentName:"li"},"UserController.php")," file."),(0,r.kt)("li",{parentName:"ul"},"Try to re-use the methods that are already used in the ",(0,r.kt)("inlineCode",{parentName:"li"},"user-add")," plugin.")))),(0,r.kt)("h2",{id:"testing-post-users"},"Testing ",(0,r.kt)("inlineCode",{parentName:"h2"},"POST /users")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use any API platform like postman."),(0,r.kt)("li",{parentName:"ul"},"Pull the changes from this ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/fossology/fossology/pull/2256"},"PR"),"."),(0,r.kt)("li",{parentName:"ul"},"Provide the request body as following ----\n",(0,r.kt)("img",{alt:"req-body-add-user",src:a(20439).Z,width:"622",height:"514"})),(0,r.kt)("li",{parentName:"ul"},"You can expect a response like this\n",(0,r.kt)("img",{alt:"res-body-add-user",src:a(24215).Z,width:"662",height:"226"}))),(0,r.kt)("h2",{id:"conclusions-and-further-plans"},"Conclusions and further plans"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Complete the implementation of ",(0,r.kt)("inlineCode",{parentName:"li"},"POST /users")," API to add a new user and document everything in ",(0,r.kt)("inlineCode",{parentName:"li"},"openapi.yaml")," file."),(0,r.kt)("li",{parentName:"ul"},"Start figuring out the requirements for the implementation of ",(0,r.kt)("inlineCode",{parentName:"li"},"upload-permisions")," API for modifying the upload permissions of each group for a upload and design the API in swagger docs..")))}c.isMDXComponent=!0},20439:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/addUserReqUpdated-dd565ed97b565645d22abd057739a18f.png"},24215:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/addUserResUpdated-301193484a5450458486b77e9d9518ce.png"},68802:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/editReqUpdated-e32531e0dd1e9cd052620f1ce2bde91d.png"},12199:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/reqBodyEditUser-5be82b54e69879a6a2850c51d8655ef8.png"}}]);